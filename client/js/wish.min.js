angular.module("sample",["auth0","ngRoute","sample.home","sample.login","angular-storage","angular-jwt"]).config(function(e,t,o,n,l){e.when("/",{controller:"HomeCtrl",templateUrl:"home/home.html",pageTitle:"Homepage",requiresLogin:!0}).when("/login",{controller:"LoginCtrl",templateUrl:"login/login.html",pageTitle:"Login"}),t.init({domain:AUTH0_DOMAIN,clientID:AUTH0_CLIENT_ID,loginUrl:"/login"}),l.tokenGetter=function(e){return e.get("token")},o.interceptors.push("jwtInterceptor")}).run(function(e,t,o,n,l){e.$on("$locationChangeStart",function(){if(!t.isAuthenticated){var e=o.get("token");e&&(n.isTokenExpired(e)?l.path("/login"):t.authenticate(o.get("profile"),e))}})}).controller("AppCtrl",function(e){e.$on("$routeChangeSuccess",function(t,o){o.$$route&&angular.isDefined(o.$$route.pageTitle)&&(e.pageTitle=o.$$route.pageTitle+" | Auth0 Sample")})});var AUTH0_CLIENT_ID="rWkTAoi309hAeOJVcMdCfy2J18oOVR9M",AUTH0_DOMAIN="holidayjs-wish-list.auth0.com",AUTH0_CALLBACK_URL=location.href;angular.module("sample.home",["auth0"]).controller("HomeCtrl",function(e,t,o,n,l){e.auth=t,e.callApi=function(){o({url:"http://localhost:3001/secured/ping",method:"GET"}).then(function(){alert("We got the secured data successfully")},function(){alert("Please download the API seed so that you can call it.")})},e.logout=function(){t.signout(),l.remove("profile"),l.remove("token"),n.path("/login")}}),angular.module("sample.login",["auth0"]).controller("LoginCtrl",function(e,t,o,n){e.login=function(){t.signin({},function(e,t){n.set("profile",e),n.set("token",t),o.path("/")},function(e){console.log("There was an error logging in",e)})}});