angular.module("sample",["auth0","ngRoute","sample.home","sample.login","sample.services.products","angular-storage","angular-jwt","wish.templates"]).config(["$routeProvider","authProvider","$httpProvider","$locationProvider","jwtInterceptorProvider",function(e,t,o,n,r){e.when("/",{controller:"HomeCtrl",templateUrl:"home/home.html",pageTitle:"Homepage",requiresLogin:!0}).when("/login",{controller:"LoginCtrl",templateUrl:"login/login.html",pageTitle:"Login"}),t.init({domain:AUTH0_DOMAIN,clientID:AUTH0_CLIENT_ID,loginUrl:"/login"}),r.tokenGetter=function(e){return e.get("token")},o.interceptors.push("jwtInterceptor")}]).run(["$rootScope","auth","store","jwtHelper","$location",function(e,t,o,n,r){e.$on("$locationChangeStart",function(){if(!t.isAuthenticated){var e=o.get("token");e&&(n.isTokenExpired(e)?r.path("/login"):t.authenticate(o.get("profile"),e))}})}]).controller("AppCtrl",["$scope","$location",function(e){e.$on("$routeChangeSuccess",function(t,o){o.$$route&&angular.isDefined(o.$$route.pageTitle)&&(e.pageTitle=o.$$route.pageTitle+" | Auth0 Sample")})}]);var AUTH0_CLIENT_ID="rWkTAoi309hAeOJVcMdCfy2J18oOVR9M",AUTH0_DOMAIN="holidayjs-wish-list.auth0.com",AUTH0_CALLBACK_URL=location.href;angular.module("sample.home",["auth0","sample.services.products"]).controller("HomeCtrl",["$scope","auth","$http","$location","store","ProductsService",function(e,t,o,n,r,i){var l=new Firebase("https://torid-torch-3093.firebaseio.com");e.auth=t,e.callApi=function(){o({url:"http://localhost:3001/secured/ping",method:"GET"}).then(function(){alert("We got the secured data successfully")},function(){alert("Please download the API seed so that you can call it.")})},e.logout=function(){t.signout(),r.remove("profile"),r.remove("token"),n.path("/login")},e.getProducts=function(t){i.getProducts(t).then(function(t){var o=t.data[0];l.push(o),e.currentItem=o},function(e){console.log(e)})}}]),angular.module("sample.login",["auth0"]).controller("LoginCtrl",["$scope","auth","$location","store",function(e,t,o,n){e.login=function(){t.signin({},function(e,t){n.set("profile",e),n.set("token",t),o.path("/")},function(e){console.log("There was an error logging in",e)})}}]),angular.module("sample.services.products",[]).service("ProductsService",["$http",function(e){var t="/products?keywords=";this.getProducts=function(o){return e.get(t+o)}}]);